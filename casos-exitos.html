<!-- FILE: caso-exito.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <title>Casos de éxito | Automatización RPA e IA - Abitech Chile</title>
  <meta name="description" content="Casos de éxito de Abitech: implementaciones de RPA e IA que reducen tiempos, errores y costos en logística, puertos y operaciones. Revisa resultados y métricas reales.">
  <link rel="canonical" href="https://abitech.cl/casos-exitos.html">

  <!-- Open Graph -->
  <meta property="og:title" content="Casos de éxito | Abitech — Automatización RPA e IA">
  <meta property="og:description" content="Casos reales donde implementamos RPA e IA para mejorar tiempos, reducir errores y escalar operaciones.">
  <meta property="og:image" content="https://abitech.cl/imagenes/og-casos.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://abitech.cl/casos-exitos.html">
  <meta name="twitter:card" content="summary_large_image">



  <link rel="stylesheet" href="estilos.css/casos-exitos.css">
  <link rel="icon" href="imagenes/logo-abitech.webp" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>





<div class="hero-gradient">


<div class="header-hero">
  
  <!-- NAVBAR -->
    <header class="navbar">
    <div class="logo">
        <a href="index.html">
        <img src="imagenes/logo-abitech.webp" alt="Logo Abitech">
        </a>
    </div>


  <!-- Botón hamburguesa -->
      <button class="menu-toggle" aria-label="Abrir menú" aria-expanded="false">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
      
    <nav class="nav-links"> 
        <a href="transformacion-digital.html">Transformación Digital</a>
        <a href="servicios.html">Servicios</a>
        <a href="herramientas.html">Herramientas</a>
        <a href="casos-exitos.html">Clientes</a>
        <a href="sobre-nosotros.html">Nosotros</a>
        <a href="contacto.html">Contacto</a>
    </nav>
    </header>



<!-- MENÚ DESPLEGABLE (oculto por defecto) -->
  <div class="mobile-menu">
    <button class="close-menu" aria-label="Cerrar menú">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
        <path d="M18 6L6 18M6 6l12 12"/>
      </svg>
    </button>
    <nav class="mobile-nav-links">
       <a href="index.html">Inicio</a>
        <a href="transformacion-digital.html">Transformación Digital</a>
        <a href="servicios.html">Servicios</a>
        <a href="herramientas.html">Herramientas</a>
        <a href="casos-exitos.html">Clientes</a>
        <a href="sobre-nosotros.html">Nosotros</a>
        <a href="contacto.html">Contacto</a>
    </nav>
  </div>
</div>

<section class="intro-servicios">
  <h1>
      Clientes que Impulsan</span> su <span class="titulo-morado"> Transformación</span><span class="titulo-celeste"> Digital</span>
  </h1>
  <p>
    Colaboramos con empresas de diversas industrias, acompañándolas en su evolución digital mediante soluciones de automatización y tecnología avanzada.  
  </p>

    <span class="arrow-clip"></span>     <!-- Flecha -->

</section>
</div>





<div class="todo-caso" >

<main class="cases-list" aria-labelledby="page-cases-title">

  <!-- CARD 1 (original) -->
  <article class="case-card" aria-labelledby="case-title-1">
  <section class="hero" style="background-image:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18)), url('imagenes/clientes/foto-ultramar.webp');">
    <div class="hero-overlay" id="ultramar" data-logo="imagenes/carrusel-clientes/ultramar.webp">
      <div class="hero-icon" aria-hidden="true">
        <!-- icono barco -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ship-icon lucide-ship"><path d="M12 10.189V14"/><path d="M12 2v3"/><path d="M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76"/><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
      </div>
      <h3 id="case-title-1">Ultramar Agencia Marítima</h3>
      <p class="subtitle">Logística y Transporte</p>
    </div>
  </section>

  <section class="content">
    <div class="text-block">
      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="#E94B3C" stroke-width="1.4"/></svg>
          </div>
          <h4>DESAFÍO</h4>
        </div>
        <!-- Resumen corto visible en la card -->
        <p>Automatización de carga de BL a sistema Sidemar. Proceso manual con 4 operadores, alta tasa de errores y tiempos largos. Se implementó RPA + IA para la lectura y carga automática.</p>
      </div>


      <div class="item">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <!-- icono solucion -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2L12 22" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round"/><path d="M5 11L12 18L19 11" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <h4>SOLUCIÓN</h4>
          </div>
        <p>Un robot desatendido genera la lectura de estos archivos, luego valida que estos datos estén correctos y genera el ingreso a Sidemar.</p>
      </div>


      <div class="results-row">
        <div class="results-title">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12H21" stroke="#4CAF50" stroke-width="1.4"/></svg>
            </div>
            <h4>RESULTADOS</h4>
          </div>
          <a class="ver-mas" href="#" aria-expanded="false">Ver más <span class="arrow">→</span></a>
        </div>

        <div class="metrics">
          <!-- Métricas visibles resumidas (3 boxes) -->
          <div class="metric">
            <div class="metric-number">50s</div>
            <div class="metric-label">Tiempo promedio<br><span class="muted">De 6 min a 50 segundos</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">1.600</div>
            <div class="metric-label">H/H ahorradas<br><span class="muted">Año 2022</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">99%</div>
            <div class="metric-label">Errores reducidos<br><span class="muted">Ingreso de datos</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido meta OCULTO (lo usa el modal). Puedes editar aquí todo el texto con HTML -->
  <div class="card-meta" hidden>
    <div class="problem">
      <p>La empresa Ultramar se ve en la obligación de transmitir los documentos Bill of Landing (BL) al sistema nacional de Sidemar.</p>
      <p>Esta acción se estaba ejecutando de manera manual, con 4 trabajadores dedicados a esta tarea. El proceso requería gran cantidad de tiempo y tenía una tasa de error muy elevada.</p>
      <p>El proceso de carga de Bill of Landing (BL) al sistema de Sidemar genera mucha digitación, por ende, produce una gran cantidad de errores y pérdida de tiempo.</p>
      <p>Para atender esta problemática automatizamos con RPA la carga de BL a Sidemar.</p>
    </div>

    <div class="solution">
      <h4>Solución</h4>
      <p>Un robot desatendido realiza la lectura de los archivos, valida que los datos estén correctos y genera el ingreso a Sidemar.</p>
      <p>Para el desarrollo de esta automatización se utilizan dos tipos de inteligencia artificial (Document Understanding y ChatGPT-4). Con estas herramientas alcanzamos ~99% de lectura correcta de documentos.</p>
    </div>

    <div class="metrics-extra">
      <ul>
        <li>El tiempo promedio de ingreso de BL se redujo de 6 minutos a 50 segundos.</li>
        <li>Se ahorraron más de 1600 H/H durante el año 2022.</li>
        <li>Un ahorro de más de 200 días laborales.</li>
        <li>El robot realiza la tarea en el 19% del tiempo que requerían los 4 agentes humanos.</li>
        <li>Se redujeron los errores por ingreso de datos en 99%.</li>
        <li>El ROI obtenido fue de 90 en los primeros 3 meses.</li>
      </ul>
    </div>

    <div class="value">
      <p>Automatización de punta a punta que reduce tiempos, disminuye errores y mejora la experiencia del cliente.</p>
    </div>
  </div>
</article>







  <!-- CARD 2 -->
<article class="case-card" aria-labelledby="case-title-2">
  <section class="hero" style="background-image:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18)), url('imagenes/clientes/foto-puertocolumbo.webp');">
    <div class="hero-overlay" data-logo="imagenes/carrusel-clientes/columbo.webp">
      <div class="hero-icon" aria-hidden="true">
        <!-- icono puerto -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-truck-icon lucide-truck"><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18H9"/><path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/><circle cx="17" cy="18" r="2"/><circle cx="7" cy="18" r="2"/></svg>      </div>
      <h3 id="case-title-2">Puerto Columbo</h3>
      <p class="subtitle">Logística Extraportuaria</p>
    </div>
  </section>

  <section class="content">
    <div class="text-block">
      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="#E94B3C" stroke-width="1.4"/></svg>
          </div>
          <h4>DESAFÍO</h4>
        </div>
        <p>Visación manual de documentos de ingreso al sistema XPS realizada por 10 personas (4 en Valparaíso, 6 en San Antonio). Alto tiempo por visación (≈40 min) y gran carga operativa.</p>
      </div>

      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2L12 22" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round"/><path d="M5 11L12 18L19 11" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h4>SOLUCIÓN</h4>
        </div>
        <!-- Solución VISIBLE en la card (tal como pediste) -->
        <p>Se implementó un robot RPA que realiza la visación documental: lectura automática, validación de campos y registro en XPS. El robot procesa masivamente y pre-valida los casos que luego requieren intervención humana.</p>
      </div>

      <div class="results-row">
        <div class="results-title">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12H21" stroke="#4CAF50" stroke-width="1.4"/></svg>
            </div>
            <h4>RESULTADOS</h4>
          </div>
          <a class="ver-mas" href="#" aria-expanded="false">Ver más <span class="arrow">→</span></a>
        </div>

        <div class="metrics">
          <div class="metric">
            <div class="metric-number">7 min</div>
            <div class="metric-label">Tiempo promedio<br><span class="muted">De 40 a 7 minutos</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">87%</div>
            <div class="metric-label">Casos automatizados<br><span class="muted">Procesados por el robot</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">99%</div>
            <div class="metric-label">Lectura de documentos<br><span class="muted">Precisión del OCR</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido meta OCULTO para el modal (edítalo libremente) -->
  <div class="card-meta" hidden>
    <div class="problem">
      <h4>Visación de documentos en Sistema XPS</h4>
      <p><strong>Contexto</strong></p>
      <p>La visación documental se ejecutaba de manera manual, con 10 personas dedicadas a esta tarea (4 en Valparaíso y 6 en San Antonio). El tiempo estimado por visación era de ~40 minutos por documento, generando cuellos de botella y costos operativos elevados.</p>
    </div>

    <div class="solution">
      <h4>Solución implementada</h4>
      <p>Se desarrolló un robot RPA encargado de la visación documental: lee documentos portuarios, valida campos obligatorios y realiza el registro en el sistema XPS. El robot gestiona el 87% de los casos entrantes de forma autónoma y envía a revisión solo los casos con excepciones.</p>
      <p>La automatización incorpora OCR/Document Understanding para mejorar la lectura y reducir errores.</p>
    </div>

    <div class="metrics-extra">
      <ul>
        <li>Tiempo promedio de visación reducido de 40 a 7 minutos.</li>
        <li>El robot visó el 87% de los casos entrantes.</li>
        <li>Lectura documental del 99% para documentos portuarios.</li>
        <li>Reducción de errores de ingreso de datos en 99%.</li>
        <li>44 días ahorrados en 2022 (Valparaíso).</li>
        <li>61 días ahorrados entre agosto y diciembre de 2022 (San Antonio).</li>
        <li>Más de 850 horas ahorradas en el proceso entre ambos puertos.</li>
      </ul>
    </div>

    <div class="value">
      <p>Automatización que reduce tiempos de procesamiento, disminuye errores y permite redistribuir recursos humanos a tareas de mayor valor.</p>
    </div>
  </div>
</article>





  <!-- CARD 3 -->
<article class="case-card" aria-labelledby="case-title-3">
  <section class="hero" style="background-image:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18)), url('imagenes/clientes/foto-tasalogistica.webp');">
    <div class="hero-overlay" id="tasalogistica" data-logo="imagenes/carrusel-clientes/tasa-logistica.webp">
      <div class="hero-icon" aria-hidden="true">
        <!-- icono ERP / caja -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-check-icon lucide-package-check"><path d="m16 16 2 2 4-4"/><path d="M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"/><path d="m7.5 4.27 9 5.15"/><polyline points="3.29 7 12 12 20.71 7"/><line x1="12" x2="12" y1="22" y2="12"/></svg>      </div>
      <h3 id="case-title-3">Tasa Logística</h3>
      <p class="subtitle">Logística Integral</p>
    </div>
  </section>

  <section class="content">
    <div class="text-block">
      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="#E94B3C" stroke-width="1.4"/></svg>
          </div>
          <h4>DESAFÍO</h4>
        </div>
        <p>Recepción de guías de despacho de cliente Masisa que deben cerrarse tanto en SAP R/3 (cliente) como en SAP B1 (Tasa). Proceso manual, repetitivo y con importantes tiempos de cierre (hasta 2 semanas) y varios agentes involucrados.</p>
      </div>

      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2L12 22" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round"/></svg>
          </div>
          <h4>SOLUCIÓN</h4>
        </div>
        <!-- Solución VISIBLE en la card -->
        <p>Se implementaron 2 robots desatendidos que automatizan la carga de viajes y el cierre de guías en ambos ERPs, incluyendo validaciones previas y encolamiento de excepciones para revisión humana.</p>
      </div>

      <div class="results-row">
        <div class="results-title">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12H21" stroke="#4CAF50" stroke-width="1.4"/></svg>
            </div>
            <h4>RESULTADOS</h4>
          </div>
          <a class="ver-mas" href="#" aria-expanded="false">Ver más <span class="arrow">→</span></a>
        </div>

        <div class="metrics">
          <div class="metric">
            <div class="metric-number">3h</div>
            <div class="metric-label">Tiempo promedio<br><span class="muted">De 2 semanas a 3 horas</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">99%</div>
            <div class="metric-label">Casos cerrados<br><span class="muted">Automatizados por el robot</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">1.200h+</div>
            <div class="metric-label">Horas ahorradas<br><span class="muted">Abr–Jul 2023</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido meta OCULTO para el modal (edítalo si quieres más detalles) -->
  <div class="card-meta" hidden>
    <div class="problem">
      <h4>Cierre de guías en SAP R/3 y SAP B1</h4>
      <p><strong>Contexto</strong></p>
      <p>Tasa Logística recibe guías de despacho de su cliente Masisa. Cada guía debía cerrarse en ambos ERPs (el SAPR/3 de Masisa y el SAPB1 de Tasa) una vez finalizada la entrega. El proceso era manual, consumía mucho tiempo (hasta 2 semanas para cerrar ciertas guías) y requería intervención de varios agentes.</p>
    </div>

    <div class="solution">
      <h4>Solución técnica</h4>
      <p>Se desarrollaron dos robots desatendidos con la siguiente arquitectura y comportamiento:</p>
      <ul>
        <li><strong>Robot A (ingreso):</strong> procesa las guías entrantes, valida campos obligatorios (documentos, cantidades, transportista), y carga los viajes en SAP B1 y, cuando aplica, en una cola para cierre en SAP R/3.</li>
        <li><strong>Robot B (cierre):</strong> ejecuta las transacciones de cierre en SAP R/3 y SAP B1 (usando BAPIs o, cuando no hay API disponible, automatización guiada), aplica reglas de negocio y registra el resultado en un sistema de logs.</li>
        <li><strong>Orquestación y excepciones:</strong> ambos robots funcionan coordinados por un orquestador (job scheduler). Casos con inconsistencias van a cola de excepciones para revisión humana (1 agente parcial), con reintentos automáticos y alertas.</li>
        <li><strong>Seguridad y trazabilidad:</strong> uso de vault para credenciales, logging centralizado y reportes para auditoría y KPI.</li>
      </ul>
    </div>

    <div class="metrics-extra">
      <ul>
        <li>Tiempo promedio de cierre pasó de 2 semanas a 3 horas.</li>
        <li>El robot cierra el 99% de los casos entrantes.</li>
        <li>Se redujo el personal activo de 3 agentes a 1 (revisión parcial de excepciones).</li>
        <li>Reducción de errores de ingreso de datos: 99%.</li>
        <li>Más de 1.200 horas ahorradas entre abril y julio de 2023.</li>
        <li>Implementación con monitoreo 24/7 y SLA interno para excepciones.</li>
      </ul>
    </div>

    <div class="value">
      <p>Automatización que acelera significativamente el cierre de operaciones, reduce costos operativos, mejora la trazabilidad entre ERPs y libera recursos humanos para tareas de mayor valor.</p>
    </div>
  </div>
</article>


  <!-- CARD 4 -->
<article class="case-card" aria-labelledby="case-title-4">
  <section class="hero" style="background-image:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18)), url('imagenes/clientes/foto-iantaylor.webp');">
    <div class="hero-overlay" id="iantaylor" data-logo="imagenes/carrusel-clientes/iantaylor.webp">
      <div class="hero-icon" aria-hidden="true">
        <!-- icono integración / flujo -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building-icon lucide-building"><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M12 6h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M16 6h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/><path d="M8 6h.01"/><path d="M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"/><rect x="4" y="2" width="16" height="20" rx="2"/></svg>      </div>
      <h3 id="case-title-4">Ian Taylor</h3>
      <p class="subtitle">Holding Diversificado</p>
    </div>
  </section>

  <section class="content">
    <div class="text-block">
      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="#E94B3C" stroke-width="1.4"/></svg>
          </div>
          <h4>DESAFÍO</h4>
        </div>
        <p>Ian Taylor necesitaba integrar la información entre el sistema de la naviera, su sistema interno (POET) y Sidemar. El proceso era manual y dependiente de digitadores, con pérdidas de tiempo y riesgo de errores.</p>
      </div>

      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2L12 22" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round"/></svg>
          </div>
          <h4>SOLUCIÓN</h4>
        </div>
        <!-- Solución VISIBLE en la card -->
        <p>Se integraron los sistemas mediante RPA: robots recogen la información desde la naviera, la transforman y la cargan en POET y en Sidemar, automatizando el flujo que antes realizaban digitadores y mejorando la trazabilidad.</p>
      </div>

      <div class="results-row">
        <div class="results-title">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12H21" stroke="#4CAF50" stroke-width="1.4"/></svg>
            </div>
            <h4>RESULTADOS</h4>
          </div>
          <a class="ver-mas" href="#" aria-expanded="false">Ver más <span class="arrow">→</span></a>
        </div>

        <div class="metrics">
          <div class="metric">
            <div class="metric-number">77.8%</div>
            <div class="metric-label">Digitalización BL<br><span class="muted">Eficiencia vs manual</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">45.8%</div>
            <div class="metric-label">Eficiencia proceso<br><span class="muted">Mejora total del flujo</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">80%</div>
            <div class="metric-label">Transmisión a Sidemar<br><span class="muted">Reducción de tiempo</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido meta OCULTO para el modal (edítalo si quieres más detalles) -->
  <div class="card-meta" hidden>
    <div class="problem">
      <h4>Integración de sistema en Ian Taylor</h4>
      <p><strong>Contexto</strong></p>
      <p>Ian Taylor necesitaba una solución para integrar la información proveniente de la naviera con su sistema interno POET y con el sistema nacional Sidemar. Antes, el flujo dependía de operadores que digitaban la información manualmente, con tiempos largos, inconsistencias y baja trazabilidad.</p>
    </div>

    <div class="solution">
      <h4>Solución implementada</h4>
      <p>Se diseñó una arquitectura de integración basada en RPA y pipelines de transformación que realiza:</p>
      <ul>
        <li>Captura automática de datos desde los sistemas de la naviera (archivos y/o pantallas).</li>
        <li>Normalización y enriquecimiento de datos (validaciones y reglas de negocio) en un paso intermedio.</li>
        <li>Carga en POET y transmisión a Sidemar con confirmación/acknowledgement y logging para trazabilidad.</li>
        <li>Mecanismos de reintento, colas de excepciones y alertas para casos que requieren intervención humana.</li>
      </ul>
      <p>La solución actúa como «digitador automatizado», mejorando consistencia y reduciendo latencias en cada etapa del flujo.</p>
    </div>

    <div class="metrics-extra">
      <ul>
        <li>El tiempo de digitalización de BL mejoró en un 77,78% gracias a la automatización.</li>
        <li>El proceso completo ganó un 45,83% de eficiencia en el flujo end-to-end.</li>
        <li>El tiempo de transmisión a Sidemar se redujo en un 80% al eliminar esperas y procesos manuales intermedios.</li>
        <li>Se implementaron logs y reportes que mejoraron la trazabilidad y facilitaron auditorías.</li>
      </ul>
    </div>

    <div class="value">
      <p>Resultado: mayor velocidad operativa, menos errores, y un flujo automatizado y trazable que permite reasignar recursos humanos a tareas de mayor valor.</p>
    </div>
  </div>
</article>



  <!-- CARD 5 -->
<article class="case-card" aria-labelledby="case-title-5">
  <section class="hero" style="background-image:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18)), url('imagenes/clientes/foto-agunsa.webp');">
    <div class="hero-overlay" data-logo="imagenes/carrusel-clientes/agunsa.webp">
      <div class="hero-icon" aria-hidden="true">
        <!-- icono documento / pago -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-truck-icon lucide-truck"><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18H9"/><path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/><circle cx="17" cy="18" r="2"/><circle cx="7" cy="18" r="2"/></svg>      </div>
      <h3 id="case-title-5">Agunsa</h3>
      <p class="subtitle">Logística Integral - Transportes</p>
    </div>
  </section>

  <section class="content">
    <div class="text-block">
      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="#E94B3C" stroke-width="1.4"/></svg>
          </div>
          <h4>DESAFÍO</h4>
        </div>
        <p>Proceso manual y crítico de carga de documentos de pago en OPUS (Naviera ONE): alta carga de digitación, dependencia de usuarios y riesgo de errores que impedían pagos oportunos.</p>
      </div>

      <div class="item">
        <div class="item-head">
          <div class="item-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2L12 22" stroke="#F6C744" stroke-width="1.4" stroke-linecap="round"/></svg>
          </div>
          <h4>SOLUCIÓN</h4>
        </div>
        <!-- Solución VISIBLE en la card -->
        <p>Se implementaron 2 robots desatendidos que recopilan los documentos, leen e interpretan la información (OCR + reglas), y digitan automáticamente los registros en OPUS, con colas y reintentos para casos excepcionales.</p>
      </div>

      <div class="results-row">
        <div class="results-title">
          <div class="item-head">
            <div class="item-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12H21" stroke="#4CAF50" stroke-width="1.4"/></svg>
            </div>
            <h4>RESULTADOS</h4>
          </div>
          <a class="ver-mas" href="#" aria-expanded="false">Ver más <span class="arrow">→</span></a>
        </div>

        <div class="metrics">
          <div class="metric">
            <div class="metric-number">4.1 min</div>
            <div class="metric-label">Tiempo por registro<br><span class="muted">De 20 min a 4.1 min</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">+80%</div>
            <div class="metric-label">Aumento de velocidad<br><span class="muted">Por digitación</span></div>
          </div>

          <div class="metric">
            <div class="metric-number">99%</div>
            <div class="metric-label">Errores reducidos<br><span class="muted">Por digitación</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido meta OCULTO para el modal (puedes editar si quieres más detalle) -->
  <div class="card-meta" hidden>
    <div class="problem">
      <h4>Automatización en sistema OPUS de Naviera ONE</h4>
      <p><strong>Contexto</strong></p>
      <p>Se realizaba la carga manual de documentos de pago necesarios para procesar pagos a la naviera ONE. El proceso demandaba muchas horas de digitación, era propenso a errores y su criticidad generaba dependencia de usuarios y retrasos en los pagos.</p>
      <p>Además no existía un horario definido para la ejecución y la operación dependía de disponibilidad humana.</p>
    </div>

    <div class="solution">
      <h4>Solución implementada</h4>
      <p>Despliegue de dos robots desatendidos con el siguiente comportamiento:</p>
      <ul>
        <li>Ingesta y pre-procesamiento de documentos (validación de formatos, extracción OCR y normalización).</li>
        <li>Interpretación de campos clave mediante reglas y plantillas (Document Understanding) y mapeo a los campos de OPUS.</li>
        <li>Digitación automática en OPUS con control de reintentos y manejo de excepciones (colas para revisión humana).</li>
        <li>Orquestación programada para ejecutar procesos fuera de horario y reducir dependencia de operadores; logs y alertas en caso de fallos críticos.</li>
        <li>Seguridad: manejo de credenciales en vault y registro de trazabilidad para auditoría.</li>
      </ul>
    </div>

    <div class="metrics-extra">
      <ul>
        <li>Tiempo promedio por ingreso pasó de 20 minutos a 4.1 minutos.</li>
        <li>Aumento de velocidad por digitación: ~80%.</li>
        <li>El robot puede procesar lotes masivos (registro máximo observado por ejecución: 12.000 registros, completados en ~48 horas según carga y límites del sistema).</li>
        <li>Reducción de errores por digitación: 99%.</li>
      </ul>
    </div>

    <div class="value">
      <p>Resultado: procesos críticos automatizados, pagos ejecutados a tiempo, reducción de dependencia operativa y mejoras de eficiencia y calidad en la carga de documentos.</p>
    </div>
  </div>
</article>



  <!-- Añade más cards repitiendo la estructura anterior según necesites -->

</main>

<!-- Modal reutilizable -->
<div id="modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modal-title">
  <div class="modal-content" role="document">
    <button id="close-modal" class="close" aria-label="Cerrar ventana">×</button>

    <div class="modal-header">
      <h2 id="modal-title">Título</h2>
      <img class="modal-logo" src="imagenes/carrusel-clientes/ultramar.png" alt="Logo empresa">
    </div>


    <div class="modal-body">
      <section class="modal-item">
        <h4>Problemática Cliente</h4>
        <p id="modal-problem">Texto del problema...</p>
      </section>

      <section class="modal-item">
        <h4>Implementación técnica</h4>
        <ul id="modal-implementation">
          <li>Detalle de la implementación</li>
        </ul>
      </section>

      <section class="modal-item metrics-grid" id="modal-metrics">
        <!-- métricas inyectadas -->
      </section>

      <section class="modal-item">
        <h4>Valor entregado</h4>
        <p id="modal-value">Valor entregado...</p>
      </section>
    </div>

    <div class="modal-footer">
      <button id="close-cta" class="btn">Cerrar</button>
    </div>
  </div>
</div>











<div class="section-testimonios">
        <div class="testimonios-wrapper">
            <div class="testimonios-header">
                <h2>Testimonios</h2>
                <p>Las empresas que confían en nosotros han optimizado procesos y acelerado su transformación digital gracias a nuestras soluciones en RPA e IA. Sus testimonios muestran el impacto real de nuestra consultoría y cómo los ayudamos a impulsar eficiencia e innovación.</p>
            </div>

            <div class="grid-cards">
                <div class="card-testimonio user" >
                    <div class="autor-perfil">
                      <div class="nombre-cargo">
                        <h3>Gillermo Mendez</h3>
                        <small id="subtitulo-testimonio">Jefe de Procesos y Sistemas <br> Puerto Columbo</small>
                      </div>                        
                    <img src="imagenes/clientes/jefe-columbo.png" alt="Puerto-columbo-testimonio">
                    </div>
                    <p>“La visación documental en XPS dejó de ser un problema. El robot automatiza la revisión y validación, reduciendo tiempos y liberando al equipo de una carga operativa enorme. Hoy gestionamos más volumen con mucha más eficiencia.”</p>
                </div>

                <div class="card-testimonio security">
                    <div class="autor-perfil">
                      <div class="nombre-cargo">
                        <h3>Alejandro Pereira</h3>
                        <small id="subtitulo-testimonio">Jefe Área Informatica <br> Ian Taylor</small>
                      </div>                          
                    <img src="imagenes/clientes/testimonio-2.jpg" alt="Franco Kinney">
                    </div>
                    <p>“La automatización del flujo entre la naviera, POET y Sidemar marcó un antes y un después. Eliminamos el trabajo manual, redujimos errores y hoy contamos con una trazabilidad mucho más clara gracias a la integración mediante RPA.”</p>
                </div>

                <div class="card-testimonio improve">
                    <div class="autor-perfil">
                      <div class="nombre-cargo">
                        <h3>Andrés Zamorano</h3>
                        <small id="subtitulo-testimonio">Jefe Infraestructura TI <br>Tasa Logistica</small>
                      </div>                          
                    <img src="imagenes/clientes/testimonio-3.jpg" alt="Nick Johnson">
                    </div>
                    <p>“La automatización del cierre de guías entre SAP R/3 y SAP B1 redujo drásticamente los tiempos de procesamiento. Pasamos de semanas a horas, eliminando tareas repetitivas y mejorando la coordinación entre equipos gracias a los robots desatendidos.”</p>
                </div>
            </div>
        </div>
    </div>







<div class="ultramar-component-wrapper">
    
    <div class="main-component-wrapper">
        <div class="teal-background-shape"></div>

        <div class="cards-container">
            
            <div class="video-card">
                <iframe 
                    src="https://www.youtube.com/embed/Z5w30jvCdDs" 
                    title="Ultramar Video" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>


            </div>

            <div class="testimonial-card">
                <i class="fa-solid fa-robot robot-icon"></i>
                <h2 class="testimonial-title">Testimonio de Automatización</h2>
                <img src="imagenes/clientes/felipe-testimonio.jpg" alt="Felipe Maldonado" class="testimonial-profile-img">
                <div class="testimonial-name">Felipe Maldonado,</div>
                <div class="testimonial-role">Jefe Desarrollo de Aplicaciones Ultramar</div>
                <p class="testimonial-quote">
                  “El beneficio se vio inmediatamente al ser implementado, pasamos a triplicar nuestras productividad y las personas dedicadas a esto ahora realizan tareas de mayor valor que estar digitando"                </p>
                <a href="contacto.html">
                  <button class="contact-button">Contactanos</button>
                </a>
            </div>

        </div>
    </div>

</div>









<!-- TRANSFORMAR EMPRESA -->
  <section id="cta-section">
    <div class="cta-container">
      
      <div class="cta-content">
        <h2>¿Quieres ser nuestro próximo caso de éxito?</h2>
        <p>¡lleva la eficiencia y crecimiento de tu empresa al siguiente nivel!</p>
        <div class="cta-buttons">
          <a href="https://wa.me/56952034275?text=Hola%20Abitech!%20Quisiera%20hablar%20con%20un%20experto%20sobre%20automatización%20RPA." class="btn-primary">Habla con un experto</a>
          <a href="contacto.html" class="btn-secondary">Solicitar evaluación gratuita</a>
        </div>
      </div>

      <div class="cta-image">
        <img src="imagenes/foto1.webp" alt="Transformación empresarial" loading="lazy">
      </div>

    </div>
  </section>
<!-- CIERRE TRANSFORMAR EMPRESA -->


</div>


    <!-- FOOTER -->


<footer class="footer">
  <div class="footer-container">
    <a href="index.html">
      <img src="imagenes/logo-abitech.webp" alt="Logo de la empresa" class="footer-logo">
    </a>
      <div class="footer-section">
        <h4>Enlaces rápidos</h4>
        <ul>
          <li><a href="servicios.html">Servicios</a></li>
          <li><a href="herramientas.html">Herramientas</a></li>
          <li><a href="casos-exitos.html">Clientes</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="sobre-nosotros.html">Nosotros</a></li>
          <li><a href="contacto.html">Contacto</a></li>

        </ul>
      </div>

    <div class="footer-section">
      <h4>Nosotros</h4>
      <ul>
        <li><a href="#">Blog</a></li>
        <li><a href="herramientas.html">Partners</a></li>
        <li><a href="contacto.html">Soporte</a></li>
        <li><a href="#">FAQ</a></li>
      </ul>
    </div>

      <div class="footer-section">
        <h4>Conecta con nosotros</h4>
        <ul class="social-links">
          <li><a href="#"><i class="bi bi-facebook"></i> Facebook</a></li>
          <li><a href="https://www.instagram.com/abitech_latam/"><i class="bi bi-instagram"></i> Instagram</a></li>
          <li><a href="#"><i class="bi bi-twitter-x"></i> X</a></li>
          <li><a href="https://www.linkedin.com/company/abitechchile/"><i class="bi bi-linkedin"></i> LinkedIn</a></li>
          <li><a href="https://www.youtube.com/@abitechchile"><i class="bi bi-youtube"></i> YouTube</a></li>
        </ul>
      </div>
  </div>

  <hr>

  <div class="footer-bottom">
    <p>© 2025 Abitech. Todos los derechos reservados</p>
  </div>
</footer>

    <!-- CIERRE FOOTER -->










    <!--  Script chatbot -->

    <script type="module">
      import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

      createChat({
        webhookUrl: 'https://carrascojordan023.app.n8n.cloud/webhook/a2f4cbeb-0c43-4db4-962b-6c6372066c08/chat'
      });
    </script>

    <!-- Cierre Script chatbot -->





    <!-- Menu toggle -- Navbar -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
      const menuToggle = document.querySelector('.menu-toggle');
      const mobileMenu = document.querySelector('.mobile-menu');
      const closeMenu = document.querySelector('.close-menu');

      if(!menuToggle || !mobileMenu) return;

      menuToggle.addEventListener('click', () => {
        mobileMenu.classList.add('active');
        menuToggle.setAttribute('aria-expanded','true');
      });

      if(closeMenu) closeMenu.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        menuToggle.setAttribute('aria-expanded','false');
      });

      document.querySelectorAll('.mobile-nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.remove('active');
          menuToggle.setAttribute('aria-expanded','false');
        });
      });

      mobileMenu.addEventListener('click', (e) => {
        if(e.target === mobileMenu){
          mobileMenu.classList.remove('active');
          menuToggle.setAttribute('aria-expanded','false');
        }
      });
    });
    </script>

    <!-- Cierre Menu toggle -- Navbar -->








    <script>

    document.addEventListener('DOMContentLoaded', () => {
      try {
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalSub = document.getElementById('modal-sub');
        const modalProblem = document.getElementById('modal-problem');
        const modalImplementation = document.getElementById('modal-implementation');
        const modalMetrics = document.getElementById('modal-metrics');
        const modalValue = document.getElementById('modal-value');
        const closeBtn = document.getElementById('close-modal');
        const closeCta = document.getElementById('close-cta');

        if (!modal) {
          console.warn('Modal no encontrado (id="modal"). Abortando inicialización del modal.');
          return;
        }

        let lastFocused = null;

        const safeClear = el => { if(el) el.innerHTML = ''; };
        const safeSetHTML = (el, html) => { if(el) el.innerHTML = html; };

        function renderMetricsFromList(items, container) {
          if (!container) return;
          container.innerHTML = '';
          items.forEach(li => {
            const wrapper = document.createElement('div');
            wrapper.className = 'metric-large';
            const text = li.textContent.trim();
            const match = text.match(/^([\d\.,%]+(?:\s?(?:s|min|H\/H|días|%|ROI))?)[\s\-–:—]+(.+)$/i);
            if (match) {
              wrapper.innerHTML = `<div class="metric-number">${match[1]}</div><div class="metric-label">${match[2]}</div>`;
            } else {
              wrapper.innerHTML = `<div class="metric-number">—</div><div class="metric-label">${text}</div>`;
            }
            container.appendChild(wrapper);
          });
        }

        function openModalFor(card) {
          try {
            if (!card) return;
            const meta = card.querySelector('.card-meta');
            const titleEl = card.querySelector('.hero-overlay h3');
            const subtitleEl = card.querySelector('.hero-overlay .subtitle');
            const title = titleEl ? titleEl.textContent.trim() : '';
            const sub = subtitleEl ? subtitleEl.textContent.trim() : '';

            if (modalTitle) modalTitle.textContent = title;
            if (modalSub) modalSub.textContent = sub;

            // limpiar
            safeClear(modalImplementation); safeClear(modalMetrics); safeClear(modalProblem); safeClear(modalValue);

            if (meta) {
              const problemBlock = meta.querySelector('.problem');
              if (problemBlock && modalProblem) modalProblem.innerHTML = problemBlock.innerHTML;

              const solutionBlock = meta.querySelector('.solution');
              if (solutionBlock && modalImplementation) {
                const paras = Array.from(solutionBlock.querySelectorAll('p'));
                if (paras.length) {
                  const ul = document.createElement('ul');
                  paras.forEach(p => { const li = document.createElement('li'); li.innerHTML = p.innerHTML; ul.appendChild(li); });
                  modalImplementation.appendChild(ul);
                } else modalImplementation.innerHTML = solutionBlock.innerHTML;
              }

              const metricsBlock = meta.querySelector('.metrics-extra');
              if (metricsBlock) renderMetricsFromList(Array.from(metricsBlock.querySelectorAll('li')), modalMetrics);

              const valueBlock = meta.querySelector('.value');
              if (valueBlock && modalValue) modalValue.innerHTML = valueBlock.innerHTML;
            } else {
              // fallback data-attributes (seguro)
              const problem = card.dataset.problem || '';
              const solution = card.dataset.solution || '';
              const m1 = card.dataset.m1 || '';
              const m2 = card.dataset.m2 || '';
              const m3 = card.dataset.m3 || '';
              const value = card.dataset.value || '';

              if (modalProblem) modalProblem.textContent = problem;
              if (modalImplementation) {
                modalImplementation.innerHTML = '';
                if (solution) solution.split(';').forEach(s => {
                  const li = document.createElement('li'); li.textContent = s.trim(); modalImplementation.appendChild(li);
                }); else modalImplementation.innerHTML = '<li>Implementación técnica disponible a pedido.</li>';
              }
              if (modalMetrics) {
                [m1, m2, m3].forEach(m => {
                  if (!m) return;
                  const parts = m.split('|');
                  const wrapper = document.createElement('div');
                  wrapper.className = 'metric-large';
                  wrapper.innerHTML = `<div class="metric-number">${parts[0]||''}</div><div class="metric-label">${parts[1]||''}<br><span class="muted">${parts[2]||''}</span></div>`;
                  modalMetrics.appendChild(wrapper);
                });
              }
              if (modalValue) modalValue.textContent = value;
            }

            // abrir usando requestAnimationFrame (no bloqueante)
            requestAnimationFrame(() => {
              modal.setAttribute('aria-hidden', 'false');
              modal.classList.add('open');
              document.body.style.overflow = 'hidden';
              if (closeBtn) closeBtn.focus();
            });
          } catch (err) {
            console.error('Error en openModalFor:', err);
          }
        }

        function closeModal() {
          try {
            modal.setAttribute('aria-hidden', 'true');
            modal.classList.remove('open');
            document.body.style.overflow = '';
            if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
          } catch (err) {
            console.error('Error en closeModal:', err);
          }
        }

        // Delegación segura: un único listener captura clicks en .ver-mas
        document.addEventListener('click', (ev) => {
          try {
            const btn = ev.target.closest && ev.target.closest('.ver-mas');
            if (!btn) return;
            ev.preventDefault();
            ev.stopPropagation(); // evita que otros handlers interfieran
            lastFocused = document.activeElement;
            const card = btn.closest && btn.closest('.case-card');
            // pequeña pausa para evitar bloqueos por otros handlers
            setTimeout(() => openModalFor(card), 0);
          } catch (err) {
            console.error('Error en delegación click ver-mas:', err);
          }
        }, { passive: false });

        // Listeners de cierre (defensivos)
        if (closeBtn) closeBtn.addEventListener('click', closeModal);
        if (closeCta) closeCta.addEventListener('click', closeModal);

        // close on overlay
        modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

        // escape para cerrar
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
      } catch (err) {
        console.error('Inicialización del modal falló:', err);
      }
    });
</script>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('modal');
  const modalTitle = modal.querySelector('#modal-title');
  const modalLogo = modal.querySelector('.modal-logo');
  const modalProblem = modal.querySelector('#modal-problem');
  const modalImplementation = modal.querySelector('#modal-implementation');
  const modalMetrics = modal.querySelector('#modal-metrics');
  const modalValue = modal.querySelector('#modal-value');
  const closeButtons = modal.querySelectorAll('#close-modal, #close-cta');

  function extractUrlFromBg(bgString) {
    // extrae la última url(...) en caso de que haya gradientes + url(...)
    if (!bgString) return null;
    const re = /url\(["']?(.*?)["']?\)/g;
    let match, last = null;
    while ((match = re.exec(bgString)) !== null) last = match[1];
    return last;
  }

  function openModalFor(card) {
    // título
    const titleEl = card.querySelector('h3[id^="case-title-"]') || card.querySelector('h3');
    modalTitle.textContent = titleEl ? titleEl.textContent.trim() : '';

    // imagen: preferir data-logo/data-modal-img, sino intentar sacar de background-image
    const heroOverlay = card.querySelector('.hero-overlay');
    let imgSrc = heroOverlay?.dataset?.modalImg || heroOverlay?.dataset?.logo || '';
    if (!imgSrc) {
      const hero = card.querySelector('.hero');
      if (hero) {
        const bg = getComputedStyle(hero).backgroundImage;
        imgSrc = extractUrlFromBg(bg);
      }
    }

    if (imgSrc) {
      modalLogo.src = imgSrc;
      modalLogo.alt = (modalTitle.textContent ? modalTitle.textContent + ' logo' : 'Logo');
      modalLogo.style.display = '';
    } else {
      modalLogo.style.display = 'none';
    }

    // rellenar contenido desde .card-meta
    const meta = card.querySelector('.card-meta');
    if (meta) {
      const problemEl = meta.querySelector('.problem');
      modalProblem.innerHTML = problemEl ? problemEl.innerHTML : '';

      const solutionEl = meta.querySelector('.solution');
      // si solution tiene <h4> y <p> lo colocamos en la sección de implementación
      modalImplementation.innerHTML = solutionEl ? solutionEl.innerHTML : '<li>Detalle no disponible</li>';

      const metricsEl = meta.querySelector('.metrics-extra');
      modalMetrics.innerHTML = metricsEl ? metricsEl.innerHTML : '';

      const valueEl = meta.querySelector('.value');
      modalValue.innerHTML = valueEl ? valueEl.innerHTML : '';
    }

    modal.setAttribute('aria-hidden', 'false');
    modal.classList.add('open'); // CSS opcional: .modal.open { visibility: visible; opacity: 1; }
    document.body.style.overflow = 'hidden';
    // foco accesible
    const closeBtn = modal.querySelector('.close');
    if (closeBtn) closeBtn.focus();
  }

  // Abrir modal al click en cualquier .ver-mas
  document.querySelectorAll('.ver-mas').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const card = e.currentTarget.closest('.case-card');
      if (!card) return;
      openModalFor(card);
      e.currentTarget.setAttribute('aria-expanded', 'true');
    });
  });

  function closeModal() {
    modal.setAttribute('aria-hidden', 'true');
    modal.classList.remove('open');
    document.body.style.overflow = '';
    // reset aria-expanded de todos los ver-mas
    document.querySelectorAll('.ver-mas').forEach(l => l.setAttribute('aria-expanded', 'false'));
  }

  closeButtons.forEach(btn => btn.addEventListener('click', closeModal));
  // click fuera del modal-content cierra
  modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
  // Escape
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') closeModal(); });
});
</script>


</body>
</html>



